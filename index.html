<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script type="text/javascript" src="static/js-charts/d3.min.js"></script>
    <script type="text/javascript" src="static/js-charts/crossfilter.min.js"></script>
    <script type="text/javascript" src="static/js-charts/dc.min.js"></script>
    <script type="text/javascript" src="static/js-charts/queue.min.js"></script>
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/dc.min.css">
    <link rel="stylesheet" href="static/css/style.css">

    <title>bglynch dc.js</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <h1 id="header-title">BGLYNCH Sample Chart's</h1><br>
        </div>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Chart Type: </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="./index.html">Pie<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./line.html">Line</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Bar</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div id="main" class="container">

        <!---->
        <h2>PIE CHARTS</h2>
        <hr/>
        <div class='row col-12'>
            <p></p>
            <div id="pie01" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.dimension(petDimension)</li>
                <li class="list-group-item">.group(petGroup)</li>
                <li class="list-group-item">.width(500)</li>
                <li class="list-group-item">.height(200)</li>
                <li class="list-group-item">.radius(75)</li>
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie02" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.externalLabels(50)</li>
                <li class="list-group-item">.drawPaths(false)</li>
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie03" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.externalLabels(50)</li>
                <li class="list-group-item">.drawPaths(true)</li>
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie04" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.externalRadiusPadding(20)</li>
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie05" class='col-5'></div>
            <ul class="list-group list-group-flush col-6">
                <li class="list-group-item">.innerRadius(20)</li>
                <li class="list-group-item">.renderlet(function(chart){</li>
                <li class="list-group-item"> chart.selectAll('text.pie-slice').text( function(d) {</li>
                <li class="list-group-item"> return d.data.key + ' ' + dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2*Math.PI) * 100) + '%';</li>
                <li class="list-group-item">
                    }); });
                </li>
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie06" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.minAngleForLabel(2)</li>
                <!--<li class="list-group-item">.ordinalColors(['red','green','blue'])</li>-->
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie07" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.slicesCap(2)</li>
                <!--<li class="list-group-item">.colors(d3.scale.ordinal().range(['red','green','blue']));</li>-->
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie08" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.slicesCap(2)</li>
                <li class="list-group-item">.othersLabel('Other Animals')</li>
                <li class="list-group-item">.colors(d3.scale.category20b())</li>
            </ul>
        </div>
        <div class='row col-12'>
            <p></p>
            <div id="pie09" class='col-7'></div>
            <ul class="list-group list-group-flush col-4">
                <li class="list-group-item">.renderLabel(false)</li>
                <li class="list-group-item">.legend(dc.legend().x(400).y(10).itemHeight(13).gap(5));</li>
            </ul>
        </div>
    </div>
    <!---->

    </div>

    <!-- Optional JavaScript -->

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="static/js/jquery-3.3.1.slim.min.js"></script>
    <script src="static/js/popper.min.js"></script>
    <script src="static/js/bootstrap.min.js"></script>

    <script language="javascript">
        /* global dc, crossfilter, d3 */


        d3.csv("data/pets.csv", function(errors, pets) {
            console.log(pets);
            var mycrossfilter = crossfilter(pets);

            // pet dimension
            var petDimension = mycrossfilter.dimension(function(data) {
                return data.rank;
            });
            var petGroup = petDimension.group().reduceCount();

            dc.pieChart('#pie01')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75);

            dc.pieChart('#pie02')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)
                .externalLabels(30)
                .drawPaths(false);

            dc.pieChart('#pie03')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)
                .externalLabels(40)
                .drawPaths(true);

            dc.pieChart('#pie04')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)
                .externalRadiusPadding(20);

            dc.pieChart('#pie05')
                .dimension(petDimension)
                .group(petGroup)
                .width(300)
                .height(300)
                .radius(100)

                .innerRadius(20)
                .renderlet(function(chart) {
                    chart.selectAll('text.pie-slice').text(function(d) {
                        return d.data.key + ' ' + dc.utils.printSingleValue((d.endAngle - d.startAngle) / (2 * Math.PI) * 100) + '%';
                    });
                });

            dc.pieChart('#pie06')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)
                .minAngleForLabel(2)
            // .ordinalColors(['red','green','blue','grey'])
            ;

            dc.pieChart('#pie07')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)
                .slicesCap(2)
                .title(function(d) { return d.key + ': ' + d.value; })
            // .colors(d3.scale.ordinal().range(['red','green','blue']))
            ;

            dc.pieChart('#pie08')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)

                .slicesCap(2)
                .othersLabel('Other Animals')
                .colors(d3.scale.category20b());

            dc.pieChart('#pie09')
                .dimension(petDimension)
                .group(petGroup)
                .width(500)
                .height(300)
                .radius(75)

                .renderLabel(false)
                .legend(dc.legend().x(400).y(10).itemHeight(13).gap(5));

            dc.renderAll();
        });
    </script>
</body>

</html>
